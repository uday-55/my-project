<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Map and Translation Test</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        #map { height: 400px; width: 100%; margin: 20px 0; border: 2px solid #2ecc71; }
        .test-section { margin: 20px 0; padding: 15px; background: #f0f0f0; border-radius: 8px; }
        h2 { color: #2ecc71; }
    </style>
</head>
<body>
    <h1>üß™ Farmer Dashboard Test Page</h1>
    
    <div class="test-section">
        <h2>1. Language Translation Test</h2>
        <label>Select Language: </label>
        <select id="languageSelect" onchange="changeLanguage()">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
            <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
            <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
        </select>
        <p>
            <strong data-translate="farmer_dashboard">Farmer Dashboard</strong><br>
            <span data-translate="ai_price_predictor">AI Price Predictor</span><br>
            <input type="text" data-translate-placeholder="enter_name" placeholder="Enter your name" style="margin-top: 10px; padding: 5px;">
        </p>
    </div>
    
    <div class="test-section">
        <h2>2. Interactive Map Test</h2>
        <p>Map should appear below with markers for farmers, buyers, and warehouses across India:</p>
        <div id="map"></div>
        <div style="margin-top: 10px;">
            <span style="margin-right: 15px;">üü¢ Farmers</span>
            <span style="margin-right: 15px;">üîµ Buyers</span>
            <span>üü† Warehouses</span>
        </div>
    </div>
    
    <div class="test-section">
        <h2>3. Test Results</h2>
        <div id="testResults"></div>
    </div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        let currentLanguage = 'en';
        let map;
        
        const translations = {
            en: {
                farmer_dashboard: "Farmer Dashboard",
                ai_price_predictor: "AI Price Predictor",
                enter_name: "Enter your name"
            },
            hi: {
                farmer_dashboard: "‡§ï‡§ø‡§∏‡§æ‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§°",
                ai_price_predictor: "‡§è‡§Ü‡§à ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§ï‡•ç‡§§‡§æ",
                enter_name: "‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç"
            },
            te: {
                farmer_dashboard: "‡∞∞‡±à‡∞§‡±Å ‡∞°‡∞æ‡∞∑‡±ç‚Äå‡∞¨‡±ã‡∞∞‡±ç‡∞°‡±ç",
                ai_price_predictor: "AI ‡∞ß‡∞∞ ‡∞Ö‡∞Ç‡∞ö‡∞®‡∞æ",
                enter_name: "‡∞Æ‡±Ä ‡∞™‡±á‡∞∞‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø"
            },
            ta: {
                farmer_dashboard: "‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æø ‡Æü‡Ææ‡Æ∑‡Øç‡Æ™‡Øã‡Æ∞‡Øç‡Æü‡ØÅ",
                ai_price_predictor: "AI ‡Æµ‡Æø‡Æ≤‡Øà ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Æ±‡Æø‡Æµ‡Æø‡Æ™‡Øç‡Æ™‡ØÅ",
                enter_name: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øà ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æø‡Æü‡Æµ‡ØÅ‡ÆÆ‡Øç"
            }
        };
        
        function changeLanguage() {
            currentLanguage = document.getElementById('languageSelect').value;
            
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.textContent = translations[currentLanguage][key];
                }
            });
            
            document.querySelectorAll('[data-translate-placeholder]').forEach(element => {
                const key = element.getAttribute('data-translate-placeholder');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.placeholder = translations[currentLanguage][key];
                }
            });
            
            logResult('‚úÖ Language changed to: ' + currentLanguage);
        }
        
        function initMap() {
            try {
                map = L.map('map').setView([20.5937, 78.9629], 5);
                
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '¬© OpenStreetMap contributors',
                    maxZoom: 18
                }).addTo(map);
                
                const locations = [
                    {name: 'Delhi Farmer', lat: 28.6139, lng: 77.2090, color: '#2ecc71', type: 'Farmer'},
                    {name: 'Mumbai Buyer', lat: 19.0760, lng: 72.8777, color: '#3498db', type: 'Buyer'},
                    {name: 'Chennai Warehouse', lat: 13.0827, lng: 80.2707, color: '#e67e22', type: 'Warehouse'}
                ];
                
                locations.forEach(loc => {
                    const icon = L.divIcon({
                        html: `<div style="background: ${loc.color}; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;"></div>`,
                        className: '',
                        iconSize: [20, 20]
                    });
                    
                    L.marker([loc.lat, loc.lng], {icon: icon})
                        .addTo(map)
                        .bindPopup(`<strong>${loc.name}</strong><br>Type: ${loc.type}`);
                });
                
                logResult('‚úÖ Map initialized successfully with ' + locations.length + ' markers');
            } catch (error) {
                logResult('‚ùå Map initialization error: ' + error.message);
            }
        }
        
        function logResult(message) {
            const div = document.getElementById('testResults');
            div.innerHTML += '<p style="margin: 5px 0;">' + message + '</p>';
            console.log(message);
        }
        
        window.onload = function() {
            logResult('‚úÖ Page loaded');
            logResult('‚úÖ Leaflet available: ' + (typeof L !== 'undefined' ? 'Yes' : 'No'));
            initMap();
        };
    </script>
</body>
</html>
